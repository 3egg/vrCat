(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1602:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(1652)),i=s(n(1654));n(1659);var o=s(n(27)),r=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return l(t,e),t.prototype.render=function(){return o.default.mobile()?r.default.createElement(a.default,this.props):r.default.createElement(i.default,this.props)},t}(r.default.Component);t.default=c,e.exports=t.default},1613:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(0)),i=n(42),o=r(n(23));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return s(t,e),t.prototype.render=function(){var e=this.props.children;return e?a.default.createElement(o.default,{horizontal:"center",className:"pano-preview-text-box"},a.default.createElement(i.Scrollbars,{style:{height:"100%",width:980,userSelect:"none"}},a.default.createElement("div",{className:"pano-preview-text-content"},e))):null},t}(a.default.Component);t.default=l,e.exports=t.default},1614:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAEFCu8CAAAAAXNSR0IArs4c6QAAA4ZJREFUSA2ll8tLVVEUxq9XxQgNjWpig8KMRkVBgYTQUGjeIBpEUY6aFhERhT2gf6BpUGMpqCgEIy0wxEFQ9EQTB1ENosTMtNPvW2evc/e591wzXPDdtda3Xnvvsz2nSqUgSZLsktmAkTQgqDb8zpIIpA2MK6Mc0CWnvpDealEZYL4cmH6ar8nqIG/LQY8DTWm1kZ7hJHrQOAxJmhkqFYAbsgT/gZh0O6cJLIAOkegkFwyknUOwp3MJXoHeDRayoAKIt22So8OyGTpSz8RcxD6ZDVcm4pWNnlijSdppqUnSh7bnoSRsncdn2TrntyCWQUa+CEsYI+ceQRVo68JNzJZsORA14gVoPc3rnoCdbtIJ1/DxhCNMnyXWDH845HzNTfQCtF0cdAfQregBb6LGiQoPApuA1pIGgB0x2gqjgl64efdVnD0LJ+FGwSK469yKNAXHwMsVJXsSBa/BJMjdPtwnoEV5dnWiAu1RyTc4ya3OS0M/Renx/jJeiVXSboE02SYSfwZGxKPfWxzjgxl1fuIipeD/AY25pVbXqghuieXpMVwM8ePoq+pQOFFFwJanAuzsoDCnCycSyCaFKdWqo6YwLsL2w+mm8puqobajJnJLVRGoWR6cZF0oHMLuyQpxckUhKduXfIk6pFbqZEXw/R7IJaV5S3B7LY6haxQvbwJ/DjSCSve0UHtNhViT267hdqhI4tyqNH10l2+pIaJlS+4s15R45ZtBYs1jLCqm6ASYI/YD6K2yHmwAks5UVX7J1QtF562dPqhESiW9zfdAXALeII5vxlHDKXCAq/4cbUKdvdfdl4bTt/Uh6AGjoI2aWfgt6Cn89BpATIGNRbCkgh9y9fq7FnpkO4IbAelHOe1/H19yxtqkdvHfY8GcHEVt4SD43HPDfxTm9NlFxyl8AeS6Rw759Qa1E5sHX0A2FLsbSEb/ayAFhYOitajfFXVGDlXxn+DmVnpLbRANvoMloMvQi75Ak+wbjy/Zn6rSTNBaRDP2JjCz7A5JrLsjYro0EhuI1r+AHotALvswafxTxooPRu4ZwtUd5I3IqR64Fu486PKcMGwfnGQalDXwJxgIwX8O8mbU5AY6H2tyTgPJO1B5FeIUDoLXN+03kAyDbd4Qe9mBxM8ByVGvMQ2ht80MGAbZH2ycBK+cs0BXXjIGtBhJ9aWJS1dvM6AMdAk+glfA/u+w0s5/AZQScl12YkEXAAAAAElFTkSuQmCC"},1615:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAEFCu8CAAAAAXNSR0IArs4c6QAAAvlJREFUSA2tlrtrFFEUxrPZRGMImhUVQYsFWdFCJE0giCKIECzsbLTygYg2VlqIhQhKCPhXqIUiIqKFBKwUlWAnRBSyhoCIgpFIiNFk/H135kzu3syME9wD357Xd86587h3tqMjkSiK9joTI5KBGge7OhOCU5VKZcIZZE6An36ywIY6b3WPW3hk7iiAHk8TOG4NFlASPHR+VlIJ4mNWYMTJloA5MBdAzXzp9DK5xDV+AuJUmgwSA/hb/ZgW4dqiu0AUVnaLzYg/qLNppZhIXQF0NU2EBsk9YiLDYPmO+UQSM2J4Et+5uHuN+IOAP0psrUa33PaApEI3ET1qOdWEF2m5LN0N/3iS+FZqIgVD4L11w45U+FqGJ7+wKyKh62DGK9iPH7+AFgw1hB9gCXwOc4U+BafAu0JSmKRgAjRB7h1vqYHXJzJyUQkZLQTfUTKQfssrbrZpQh+djbFgwVDnFOqGVUu/AJCvJY1Po2/qOkpN9KdjZ+/IcMkZfq3UUpnQoNi9Qdg7sd+WWqqWiazXZPQYGCpVqAITdZCtpWq7+HLXSKGGtEhsMIw7n+Qc0LNyDX0SMV1rvkA4Apzks1aRoZPe5dtxy2gx0Y9W0WL5uC4qovEZMAdnFvSBjWATkGyLVblfneY67q8Da+BXbsdRwyY4yAH/Bu2EOvdFML9Iw61T27RCfPfgNqNXIK8RXJ3Ur0D29yEpJP8USC77A3P34z8GqtGKgcR6/Dr8ZyIiw9oYkrYMpE8/mAdfQToUuwEkL0rtfX+1RTbPSefDLaD34ahxiX/A/gIG2jowGbAv0dOJ1l3Uv4otYLrLgv+raapv6XNwANzgql56Pc9hK3+/bc+Qgb3gKtjhDVL/QSCZAp26Qp2Ov3HO+0TPfsJqP3m+mRsSw/2/gqODQfs5FXpewhkB+iDuhrOkZ9gLNGxdBg4Tm6RQ8h0cwg8l84CFewWihp1kUAPoX2E5obgHaC/pVJfMggvOKv+/vNywkMWQKrgH9Bi0546FnCL/L9YD3aietVtdAAAAAElFTkSuQmCC"},1616:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABoCAYAAACkCDPpAAAABGdBTUEAALGPC/xhBQAAA8JJREFUeAHl28dOVVEUBuB7AVFBHfsGPozR2HvDLr0XAY3SBOnF3rAr2HsXrFOHJk59Akciiv9O9oCs3HP+O/333clKWGezkvVlnQPhsk8iEciamZnJRbQgviO+IQoDoSUSwDjcQ4RdBdnqSojmwDCOWJ7Ckp+V4qLMJY8bi8A5x5QMxjbqcIj7iKj1DxtLbZ1EjsYd7m6UzF8vksDYJtF8DuIOwRXbOonc48YJrkQCY5v0uDGCK7V1ErnH3Sa4MgmMbTJNXLmtk8iBy0bcIpOrkMDYJj3uJsFV2jqJ3ONuEFyVBMY26XHXCa7a1knkHneN4GokMLZJoLIQVwmu1tZJ5B53heDqJDC2SY+7THD1tk4i97hRgmuQwNgmPe4SwTXaOonc4y4SXJMExjbpcRcIrtnWSeRAJREMd0gCY5v0uPNkcodtnUTucedCxp0luCMSk7JN+smdIbijtk4i97jTBNcigbFNetwpgmu1dRK5x50kuDYJjG3S404QXLutk8kBGyG4DhmMbRSwYYLrtDUyOWBDBNclg7GNAjZIcMdtjUwO2ADBdctgbKOA9RNcj62RyQHrI7heGYxtFLBeguuzNTI5YD0E1y+DsY0C1k1wA7ZGJgesi+AGZTC2UcA6CW7I1sjkgB0juGEZjG0UsA6CG7E1Mjlg7QTn/iRKyoBmN4rG2wjO/TEri2slOPcxhCyuieDcB0iyuDw0Px0DdB/9aeLc84fmF8fgfmAvZ/ZzKvc1AGyC7n/n0odn3RTrEXHLnX7QPgINQHOcEHtBINlPU3dIR36SjWSS7piVPPIgQbqDcvLIBoJ0Rx3lf4Wwn67uJK48so5MMghkLUG6A+Pyk6whSHfkXx5ZTZDupQ33wpTuAqCKIN1rN/LISoK8FwKygiDd22HykywnyAfYz9V9INE5AGWZgCwlSPeOrfwkSwjyUQjIYoJ8jP256s9kEUE+CQFZCIR7UThqPcWG/CQPABGHfBYCcn8ayHnqz+Q+gnyOfXnkXoJ8EQJyD0G+DAG5myBfYX+++jO5KxOQO4H8i4har7EhP8kCIOKQb7Cfp3677iDItyEgtxPkuxCQ29JA5qvfrlsJ8j325ZFbCHIiBORmIKYRUWsSGwvUb9dNQASP3EiQH0KYJEN+BHKh+u26gUzyUwjI9ZmAXAfkH0TU+oyNReq361og4pBfQkCuIcivISBXZwJyFZBTiKg1Kv08uuYhW4mIQv6SBxLkzyCAHrkCk/xt7tVy3XPYKUYD3BJcXoZwH1ZNJpPJiRTfFtal/5tjcZZ/L2aLAAAAAElFTkSuQmCC"},1617:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABoCAYAAACkCDPpAAAABGdBTUEAALGPC/xhBQAAA0RJREFUeAHt3MVylEEUBeBMDAiy5W3gAaiicLfgxF1IAgUkIUI8wd1dgrvLliUUW56ABUWQ4VzqX03RfdieS05V1yR9N/3lpv6x7j8rC0mn00UY7zE+YOzCyLd5FwGmECMzo5jwgQTkYaYu+f0GHvPUu5gNwFgAMRvzl+SRAMzC+IURynUUtDsJQHFIl8xf9YAsIcgrqOcG/p01pgEoJcjLHpBlBGkXHvlOlhPkRQ/Iiv8BWUmQF1DP0bjCBFYJQBVBnveArCbIcx6QNQR51gOyliDPeEDWEeRp1O1FvG4AqCfIUx6QDQR50gOykSBPeEA2EeRxD8hmgjzmAdlCkEc9ILcR5BHUU7rPH1g5ANvHken0YQ+d3EE6ecgDcidBHvSAtO86YjmAovyFpzUmRG2/B2QbQe7zgGwnyL0ekB0EOSL9QsAWD2AnQQ57QHYR5JAHZDdBDnpA7iHIAQ/IHoLs94DsJcg+D8g+guz1gOwnyB4PyAGC7PaAHCTILg/IIYLs9IAcJsgOD8gRgtwtjQQuhWFvpWJp94C0N8WxtHlA2scbsbR6QNoHVbE0e0DaR46h/EChQB2ZC8SnkBDz02WBWHw2hu0FCEW3gxDlYNhujlgaJLsH0b/gWpRxttkoFs2rJ0TWOdsuFkuTcudsw18sW1Vx9lRgWzZjaVTG2c7iWGSvltY52xseS71y5xiuThlnRxdiqVXF5UFlh09iqVHG2fGhWKqVcddiMtSqlHF2ui2WSlVcPlR2CDOWCs+4cmWcnRGOpUwZdzMmQ61UFTcBi79FcCXKuNsEV6yMuxPB2QHpImXcXYLbooqbCBjDbVbG3SOd26SMu09wG5VxDwhugypuEmChG3+Y2a6W6z3j1injHlmLAvmJ+bWquAIs/nEAZtOGK1TGPSG4Ncq4pwS3WhU3GTCGW6WMe0Y6t1IZ95zgVqjipgD2IoKz78SXe8YtU8a9JJ1bqoqbCtgrz7jXBLdEuXMMt1gVNw1dexPp3HfUFinj3hLcQmXcO4Jb4Bk3XxJni0bX7JYooYyhME8WlwC/BHSGmyuNS4Cf/wI03Bx5XALMvMXfNzc4AP/cgQCgmfh5BsZXjNFUKvURj+NR+Av8Bg5kjN6wSr3YAAAAAElFTkSuQmCC"},1652:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(0)),i=u(n(23)),o=u(n(528)),r=u(n(1613)),s=u(n(1653)),l=u(n(1616)),c=u(n(1617));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.resize=function(){clearTimeout(a.resizeTimeout),a.resizeTimeout=setTimeout(function(){var e=void 0,t=void 0;a.props.fullscreen?(e=window.screen.width,t=window.screen.height):(e=a.container.parentNode.clientWidth,t=a.container.parentNode.clientHeight),a.setState({parentWidth:e,parentHeight:t,initSize:!0,boxAnimate:!1}),a.init()},100)},a.init=function(){var e=a.props.images;if(e){var t=e.map(function(e){return{src:e}});a.setState({images:t},function(){var t=0;e.map(function(n,i){var o=new Image;o.onload=function(){t++,a.calculation(o.width,o.height,i),t==e.length&&(a.setState({allLoaded:!0}),setTimeout(function(){a.setState({boxAnimate:!0})},100))},o.src=n})})}},a.calculation=function(e,t,n){var i=a.state,o=i.images,r=i.activeIndex,s=i.parentWidth,l=i.parentHeight,c=e/t,u=void 0,f=void 0,p=void 0;s/l>c?(u=l/t,t<(p=l)&&(p=t,u=1),f=p*c):(u=s/e,e<(f=s)&&(f=e,u=1),p=f/c),o[n].initX=Math.round((s-f)/2-(e-f)/2),o[n].initY=Math.round((l-p)/2-(t-p)/2),o[n].scale=u,a.setState({images:o}),r===n&&(a.tempScale=u,a.tempX=o[n].initX,a.tempY=o[n].initY,a.setState({scale:u,X:o[n].initX,Y:o[n].initY}))},a.turnNext=function(){var e=a.state.activeIndex;e<a.props.images.length-1&&a.setState({activeIndex:e+1},a.changeIndex)},a.turnPrev=function(){var e=a.state.activeIndex;e>0&&a.setState({activeIndex:e-1},a.changeIndex)},a.changeIndex=function(){var e=a.state,t=e.activeIndex,n=e.images[t],i=n.scale,o=n.initX,r=n.initY;a.tempScale=i,a.tempX=o,a.tempY=r,a.setState({scale:i,X:o,Y:r});var s=a.props.onChange;s&&s(t)},a.onPinch=function(e){var t=a.tempScale*e.scale,n=a.tempX+e.deltaX,i=a.tempY+e.deltaY;a.setState({scale:t,X:n,Y:i})},a.onPinchEnd=function(){var e=a.state,t=e.scale,n=e.X,i=e.Y;a.tempScale=t,a.tempX=n,a.tempY=i},a.onDoubleTap=function(){var e=a.state,t=e.activeIndex,n=e.X,i=e.Y,o=e.images[t],r=o.initX,s=o.initY,l=o.scale;n!=r||i!=s||a.state.scale!=l?(a.tempScale=l,a.tempX=r,a.tempY=s,a.setState({X:r,Y:s,scale:l})):(a.tempScale=3*l,a.setState({scale:3*l}))},a.onSwipe=function(e){var t=a.state.activeIndex;images[t].scale==a.state.scale&&(2===e.direction&&a.turnNext(),4===e.direction&&a.turnPrev())},a.onPan=function(e){a.setState({X:a.tempX+e.deltaX,Y:a.tempY+e.deltaY})},a.onPanEnd=function(e){var t=a.state,n=t.X,i=t.Y;a.tempX=n,a.tempY=i},a.state={boxAnimate:!1,allLoaded:!1,initSize:!1,parentWidth:0,parentHeight:0,images:[],activeIndex:0,scale:1,X:0,Y:0,log:"asdfasdf"},a}return f(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.resize),this.resize()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.resize)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.images,a=t.fullscreen;n!==e.images&&this.resize(),a!=e.fullscreen&&this.resize()},t.prototype.renderLeftArrow=function(){var e=this.state,t=e.activeIndex,n=e.parentHeight;if(0!==t){var i=(n-28)/2;return a.default.createElement("img",{onClick:this.turnPrev,src:l.default,style:{left:0,top:i,width:28,position:"absolute",margin:"0 11px"}})}},t.prototype.renderRightArrow=function(){var e=this.state,t=e.activeIndex,n=e.parentHeight;if(t!==this.props.images.length-1){var i=(n-28)/2;return a.default.createElement("img",{onClick:this.turnNext,src:c.default,style:{right:0,top:i,width:28,position:"absolute",margin:"0 11px"}})}},t.prototype.render=function(){var e=this,t=this.state,n=t.images,l=t.activeIndex,c=t.parentWidth,u=t.initSize,f=t.allLoaded,p=t.boxAnimate,d=this.state.scale,A=this.state.X,h=this.state.Y,m=this.props,g=m.fullscreen,v=m.onClick,w=m.audio;return a.default.createElement("div",{className:g?"pano-preview-fullscreen":"pano-preview-container",ref:function(t){return e.container=t}},u?a.default.createElement("div",null,a.default.createElement(o.default,{options:{recognizers:{pinch:{enable:!0}}},onDoubleTap:this.onDoubleTap,style:{minHeight:"100%"},onPinch:this.onPinch,onPinchEnd:this.onPinchEnd,onPan:this.onPan,onPanEnd:this.onPanEnd},a.default.createElement("div",null,a.default.createElement(i.default,{onClick:v,style:{transition:p?"transform .2s ease-in-out":"initial",transform:"translate3d("+-l*c+"px, 0,0)"}},f?n.map(function(e,t){var n=e.initX,i=e.initY,o=e.src,r=e.scale;if(void 0===n)return null;var s=void 0,u=void 0,f=void 0;return l===t?(s=d,u=A,f=h):(s=r,u=n,f=i),a.default.createElement("div",{key:t,style:{minWidth:c}},a.default.createElement("img",{className:"pano-preview-img",src:o,style:{transform:"translate3d("+u+"px, "+f+"px,0) scale("+s+")"}}))}):null))),this.renderLeftArrow(),this.renderRightArrow(),a.default.createElement(s.default,{audio:w}),a.default.createElement("div",{style:{position:"absolute",left:0,right:0,bottom:0}},a.default.createElement(r.default,null,this.props.textContent))):null)},t}(a.default.Component);t.default=p,e.exports=t.default},1653:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s(n(0)),i=s(n(23)),o=s(n(1614)),r=s(n(1615));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var u=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=a=l(this,e.call.apply(e,[this].concat(o))),a.state={isPlay:!1},a.onPlay=function(){a.setState({isPlay:!0});var e=a.props.audio,t=(void 0===e?{}:e).volume,n=void 0===t?1:t;a.audio.volume=n},a.onPause=function(){a.setState({isPlay:!1})},a.switchAudio=function(){a.state.isPlay?a.audio.pause():a.audio.play()},l(a,n)}return c(t,e),t.prototype.render=function(){var e=this,t=this.state.isPlay,n=this.props.audio,s=void 0===n?{}:n,l=s.src,c=s.loop;s.volume;return l?a.default.createElement("div",{onClick:this.switchAudio,style:{position:"absolute",left:15,top:10,color:"#fff"}},a.default.createElement(i.default,{vertical:"center"},a.default.createElement("img",{style:{width:14,height:14,marginRight:5},src:t?r.default:o.default}),a.default.createElement("div",{style:{fontSize:14}},"音频"),a.default.createElement("audio",{ref:function(t){e.audio=t},onPlay:this.onPlay,onPause:this.onPause,src:l,loop:c,preload:"preload",autoPlay:"autoplay"}))):null},t}(a.default.PureComponent);t.default=u,e.exports=t.default},1654:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(0)),i=u(n(23)),o=u(n(528)),r=u(n(1655)),s=u(n(1616)),l=u(n(1617)),c=u(n(1613));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.resize=function(){clearTimeout(a.resizeTimeout),a.resizeTimeout=setTimeout(function(){var e=a.container.parentNode.clientWidth,t=a.container.parentNode.clientHeight-a.foot.clientHeight;a.setState({parentWidth:e,parentHeight:t,scale:1,animate:!1,boxAnimate:!1}),a.init()},300)},a.images={},a.loadImage=function(e,t){var n=a.images;if(n[e])t(n[e].width,n[e].height);else{var i=new Image;i.onload=function(){var a=i.width,o=i.height;n[e]={width:a,height:o},t(a,o)},i.src=e}},a.init=function(){var e=a.props.images;if(e){var t=e.map(function(e){return{src:e}});a.setState({images:t},function(){var t=0;e.map(function(n,i){a.loadImage(n,function(n,o){a.calculation(n,o,i),++t==e.length&&(a.setState({allLoaded:!0}),setTimeout(function(){a.setState({boxAnimate:!0})},100))})})})}},a.calculation=function(e,t,n){var i=a.state,o=i.images,r=i.activeIndex,s=i.parentWidth,l=i.parentHeight,c=e/t,u=void 0,f=void 0;s/l>c?(t<(f=.9*l)&&(f=t),u=f*c):(e<(u=.7*s)&&(u=e),f=u/c),o[n].initX=Math.round((s-u)/2),o[n].initY=Math.round((l-f)/2),o[n].width=u,o[n].height=f,a.setState({images:o}),r===n&&(a.tempX=o[n].initX,a.tempY=o[n].initY,a.setState({X:o[n].initX,Y:o[n].initY}))},a.turnNext=function(){var e=a.state.activeIndex;e<a.props.images.length-1&&a.setState({activeIndex:e+1,scale:1,animate:!1},a.changeIndex)},a.turnPrev=function(){var e=a.state.activeIndex;e>0&&a.setState({activeIndex:e-1,scale:1,animate:!1},a.changeIndex)},a.changeIndex=function(){var e=a.state,t=e.activeIndex,n=e.images[t],i=n.initX,o=n.initY;a.tempX=i,a.tempY=o,a.setState({X:i,Y:o});var r=a.props.onChange;r&&r(t)},a.onSwipe=function(e){2===e.direction&&a.turnNext(),4===e.direction&&a.turnPrev()},a.handleZoomIn=function(){var e=a.state.scale;e>3||a.setState({scale:1.2*e,animate:!0})},a.handleZoomOut=function(){var e=a.state.scale/1.2;e<1&&(e=1),a.setState({scale:e,animate:!0})},a.handleReset=function(){var e=a.state,t=e.activeIndex,n=e.images[t],i=n.initX,o=n.initY;a.tempX=i,a.tempY=o,a.setState({scale:1,animate:!0,X:i,Y:o})},a.onPan=function(e){a.state.animate&&a.setState({animate:!1});var t=a.tempX+e.deltaX,n=a.tempY+e.deltaY;a.setState({X:t,Y:n})},a.onPanEnd=function(){var e=a.state,t=e.X,n=e.Y;a.tempX=t,a.tempY=n},a.state={allLoaded:!1,activeIndex:0,scale:1,animate:!1,boxAnimate:!1,images:[],X:0,Y:0},a}return f(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.resize),this.resize()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.resize)},t.prototype.renderLeftArrow=function(){var e=this.state,t=e.activeIndex,n=e.parentHeight;if(!n)return a.default.createElement("div",null);if(0!==t){var i=(n-88)/2;return a.default.createElement("img",{onClick:this.turnPrev,src:s.default,style:{left:30,top:i,width:28,position:"absolute",padding:30,boxSizing:"content-box",userSelect:"none",cursor:"pointer"}})}},t.prototype.renderRightArrow=function(){var e=this.state,t=e.activeIndex,n=e.parentHeight;if(!n)return a.default.createElement("div",null);if(t!==this.props.images.length-1){var i=(n-88)/2;return a.default.createElement("img",{onClick:this.turnNext,src:l.default,style:{right:30,top:i,width:28,position:"absolute",padding:30,boxSizing:"content-box",cursor:"pointer",userSelect:"none"}})}},t.prototype.render=function(){var e=this,t=this.state,n=t.animate,s=t.scale,l=t.activeIndex,u=t.parentWidth,f=t.images,p=t.allLoaded,d=t.boxAnimate,A=this.state.X,h=this.state.Y,m=this.props,g=m.showCount,v=m.audio;return a.default.createElement("div",{className:"pano-preview-container",ref:function(t){return e.container=t}},a.default.createElement(o.default,{options:{recognizers:{pinch:{enable:!0}}},onPan:1!==s?this.onPan:void 0,onPanEnd:1!==s?this.onPanEnd:void 0,onSwipe:1===s?this.onSwipe:void 0},a.default.createElement("div",null,a.default.createElement(i.default,{style:{transition:d?"transform .2s ease-in-out":"initial",transform:"translate3d("+-l*u+"px, 0,0)"}},p?f.map(function(e,t){var i=e.src,o=e.width,r=e.height,c=e.initX,f=e.initY;if(void 0===c)return null;var p=void 0,d=void 0;return l===t?(p=A,d=h):(p=c,d=f),a.default.createElement("div",{key:t,style:{minWidth:u}},a.default.createElement("img",{key:t,draggable:!1,className:"pano-preview-img",src:i,style:{maxWidth:o,maxHeight:r,transition:n?"transform 0.3s":"initial",transform:"translate3d("+p+"px, "+d+"px,0) scale("+(l===t?s:1)+")"}}))}):null))),a.default.createElement("div",{className:"pano-preview-foot",ref:function(t){return e.foot=t}},g?a.default.createElement("div",{style:{color:"#fff",textAlign:"center",fontSize:14,marginBottom:20}},f&&f.length>0?l+1+" / "+f.length:""):null,a.default.createElement(r.default,{audio:v,scale:s,handleZoomIn:this.handleZoomIn,handleZoomOut:this.handleZoomOut,handleReset:this.handleReset}),a.default.createElement(c.default,null,this.props.textContent)),this.renderLeftArrow(),this.renderRightArrow())},t}(a.default.Component);t.default=p,e.exports=t.default},1655:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(0)),i=u(n(23)),o=u(n(1656)),r=u(n(1657)),s=u(n(1658)),l=u(n(1614)),c=u(n(1615));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),a=0;a<n.length;a++){var i=n[a],o=Object.getOwnPropertyDescriptor(t,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,t))}var d=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=a=f(this,e.call.apply(e,[this].concat(o))),a.state={isPlay:!1},a.onPlay=function(){var e=a.props.audio,t=(void 0===e?{}:e).volume,n=void 0===t?1:t;a.setState({isPlay:!0}),a.audio.volume=n},a.onPause=function(){a.setState({isPlay:!1})},a.switchAudio=function(){a.state.isPlay?a.audio.pause():a.audio.play()},f(a,n)}return p(t,e),t.prototype.render=function(){var e=this,t=this.state.isPlay,n=this.props,u=n.handleZoomIn,f=n.handleZoomOut,p=n.handleReset,d=n.scale,A=n.audio,h=void 0===A?{}:A,m=h.src,g=h.loop;h.volume;return a.default.createElement(i.default,{className:"pano-preview-zoom-btn-box",horizontal:"center"},a.default.createElement(i.default,null,a.default.createElement(i.default,{onClick:u,vertical:"center",horizontal:"center",className:"pano-preview-zoom-btn"+(d>=3?" pano-preview-zoom-btn-disable":"")},a.default.createElement("img",{src:o.default}),a.default.createElement("span",null,"放大")),a.default.createElement(i.default,{onClick:f,vertical:"center",horizontal:"center",className:"pano-preview-zoom-btn"+(1===d?" pano-preview-zoom-btn-disable":"")},a.default.createElement("img",{src:r.default}),a.default.createElement("span",null,"缩小")),a.default.createElement(i.default,{onClick:p,vertical:"center",horizontal:"center",className:"pano-preview-zoom-btn"},a.default.createElement("img",{style:{width:12},src:s.default}),a.default.createElement("span",null,"重置")),m?a.default.createElement(i.default,{onClick:this.switchAudio,vertical:"center",horizontal:"center",className:"pano-preview-zoom-btn"},a.default.createElement("img",{style:{width:12},src:t?c.default:l.default}),a.default.createElement("span",null,"音频"),a.default.createElement("audio",{ref:function(t){e.audio=t},onPlay:this.onPlay,onPause:this.onPause,src:m,loop:g,preload:"preload",autoPlay:"autoplay"})):null))},t}(a.default.Component);t.default=d,e.exports=t.default},1656:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAEFCu8CAAAAAXNSR0IArs4c6QAAA2RJREFUSA21lk1sDVEUx9+TNj5Ci2hCE40iVSJBWVjYWaJpiJXEqsLKogshdrWyQkQs6msjkYiSiA39WClhURtNLZC0KpFoSkvbCMbvf9+98+6dj3qVOMn/3XP+53/OvJm5Z2YKBSyKoo2gXb6CJuOU/KkFrG2OYF1aVIAqsmSPWYk/WcJkf/iBkapRaF4TkyCeChyIQYmwYSXkOMGIcewPfIsfS/kQvEySVUkl8VUjwhkP1ARwzS65WA7EsEWtSViyKw4Sjk66fClskg7u4pmWu0RYu8M6FjSB0L/+DSbAQbACbAPdQNYRFCiAVEF4UVIqo1ODVSaF8wS0JnVSJDnFjq/CbwCvRcpIrGZxl6xRXLFYfK81Za6Ln4A77sfy4e6BCwEP0Q+mwbIgUSrogpf1upzZvC6oZKX4I7qbKS2JDvAKfAB3gc453xBcBrJbYAuoA0fBDJjNrCTRB0Yzk5DkWkF4e4h3gum8IsejOQy+uljdZDUxgUO8EjzyOflw2mEL5ZvR5gZPKvCsDr/ei517Fue8CegQ/3fcPUAD9g7MWr/PVRFrUp6nCkWQaAR7wZD14wkl1kW6n1loizchGDQC7wduAOxzhb0EnV7e8bszuPi0nIjaaE1S6Mfkv4FjPqfz0rTLzgUJArh68EtJzIybNJpHzduEFhLaQeHfKRR+ktsMxGt6lqCfwa/cKGrKaBw2QNACeiSswLSjboN1YZd0ZHacoylYDnR3dDpPwQtQyynNaWjWAk3eW9ViN0A1cb4hcGM8ip+1vfOLvQy1GtLvQHbCS5VdEu7Spe5+WVXy0OotHgxvUqMYjXtvXAryJE4B2bUgkRGg0cTIUlOTIddBnxm1myaJIN5YckNWkc+hm+8BzYORuu64D8GUPWA8LC4J325zf1v0ZFrv6twK597jpSeUEpB6o8oOOGHeima+Z3jadI6ii3FPr8ln/NQ7MRbikG+wDQZ8Psu3ffWo0Y5dFGggdOoaXj1KdgTJfwjocQjIdLv0FkkbiWrQD2QjYHtaNTdDzX4wCWS5X3FBF4Q68BWgM5aNg+ugDTSDGqCX5lZwBOjjQFdGpnd9J9BHg0zzndqMwQGTAQV68GpWH4Mh8AXo41Dj9ACcBHq0BQanujEgU615ewei/xFwIO1s/dEz6v8HITwMV1ZDIS4AAAAASUVORK5CYII="},1657:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAEFCu8CAAAAAXNSR0IArs4c6QAAAx9JREFUSA21lstvTVEUxltp4xFtEU1oQgSpEgnK0D8gaBpiJDGqxMigA9Fp/QE0Igb1mkgkopGY0cfEKwyYEAYiaZVIVHFpG8H1+/Y56+Sue865rqtW8t291re+tfZ57L3PravDisXiRtAjX0F7cCK/sICx2wjGpfUKUBVjcjiMxO9jotJQUueaWI+CnAZUhXqM8QnxYpGETUk1zrhIM+JO88MIcQs8LifV2imJz1vFlFMTkOywZLgIiBcxWhIxxGASlDl6et/LuNKHF+bYRQezaziTrgBCV/0LTIMDYDnYBoaArNcVKIBUgbvVlCjSqcHKkMO5A7qyhFmcKsU3gLXgmQIZ/CqG8MgCwQ/v77X5brQujswI0N0Ap10KYgzMgCaXIIAbBLIRy4XFa0E1I8Vv0V1OaUn0gqfgDbgOdM/5huAskF0BW0ArOAJmwVxmJYlRMJGZhCTXBWwvRjLinWAmr8h4NIfAZ4vVTdacEBUcdFphC4NEVRW0LoW0D5xJFULuBrbBbBy1anLaKQ8Va8klxtK6S2JPQkTOx5K4Df9diBH+zaXeR77XCkcI+ku65rqpSURgq3MrSJD/Co46DYR2u+yUS0QFbfA/Q7ZYTLZbeDg8lGk0OkO1gsrv+Qe5zeoBtHuWoJ/Fr94oas9o7Bsg6ATDElZhWlFXwTrfJR3pXE2MgmVAb0e3cw88Ai3cUkVDswZo571SLXYJNBLnGwLbxhP4Wlg1GbXapN+A7FhmExL26FJvP7OgCpKe9t0YcHISJ4DsgkvMQ0DPB6Gz7Sb1hHgZkxvmYQ7Xgr7hYGQcsoQWjb0vHerOEPbEF/OnYQ7BelccBdbT5gh3qC+qbH9GwT9R9DwZOttZqm4Qm2LyA2Pqm1jrjHFfHTVasYtcHwgdzNq8Okp2uGQNAT0OAlkBtGa2INEIxoBsHGzPFFYgqdkHvgBZ7r841wKhJj4HdMeyKXARdIMO0AxWgK3gMNCfAz0Zmb71/UB/GmTa38nJ7SbKCyjQwau9ehs8B5+A/hxqO90Ex4GONmdwqpsEMtVGX2+n+g8BE2lR6kL71P43e5mS8McqSkIAAAAASUVORK5CYII="},1658:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAaCAYAAAHTUwwfAAAAAXNSR0IArs4c6QAAAupJREFUSA21lk9IFVEYxR3TRWF/FxUFQpvcBYFBrSIIatm6tRVvUxAmRAiPXLSshe2EEDQoCjRso9jQTogIihaBmyBbtIl8TwlDp9+5c+99M3fm/cnwg+P97jnn+2bueOfO6+oikiQZAKPKzcSO7yETESNGScVhk0tROEGump8ogfiaI8wkrGk0SEvSeaGZbQS/t9gmrZyynnTAuQC+hWQP5KQjyfeD18Ass3Az8BPgrBZTcVWFEXEtJOHMnXYjPAlF5quewzkIXCx4wSUovWDLOmYYK2AUrFruXsZ71OQIKvBLdQaN8L12jGyDOcaaBD20maw5zNFVNA1MGJ3sCxgLzR3N0z7JnnZmfHUwn/NBxEAxlBWY61/7SwKR7pqsweWII0C3vw7mwXGnlY4YHgPFGhgDN8AsUGyCqFAIGQNF6TrhXxk1fbpvyZf07zA7o9DNEugHlDJqU2wARZ/23DtwXWKT+Ckn2gdgNkMURXV1yr0DZcVYLoDf8hK3jEdZmbkdp1vdVphCLrq7k2p8w+CU8ZIsgpV2hXiOgPyyRBDVZsVou4wjSR7mPJAHrbDCmLtt5lWrLeaKshMMb6wpHM5lfS1zKrWjtP5O4g+mp2CwZdNQpEBLjYELLXkI5JadrUNTjR6D2ZmMipegz/nIr4ok5hynHTtuqPRP1Qv/kFCqz8JUps9t8pOZeXq2QLhHpxWVvsnNrov/AdBL+gJcBt2gH+jcycaE6QGjg0mhc6bpo2txQe3fu2AZNItPvh6HTkHF9g5y36mR0OsQuAk+grrmXmVSA4qKJ3cw0ZmxZPtf2sHrNFqzMv2wcnGtofxfRsP7tqm+8idy3SD0kktQlP4EyBW0mFCvXfpMjYhNcLrUjqB3KAYuJkk6fkXw6gB47ooZY9ATXqzwacWk79cjoE3k9HVy/ZTS9v4OtsBhcAacB/uAQvw4uMP3b0NEGK5hyPs5NzDA5Aq4CPrBMaDN9gMsgxjMcoHPjG3jL0UGoEylMuClAAAAAElFTkSuQmCC"},1659:function(e,t,n){}}]);